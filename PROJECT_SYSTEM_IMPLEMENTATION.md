# Система управления проектами - Реализация

## Обзор

Реализована система управления проектами с отдельными базами данных для каждого проекта. Пользователи могут выбирать конкретный проект или просматривать данные по всем проектам одновременно.

## Основные функции

### 1. Выбор проекта в сайдбаре

- **Компонент выбора проекта**: Добавлен в начало сайдбара
- **Список проектов**: Отображает все доступные проекты с их статусами
- **Опция "Все проекты"**: Позволяет просматривать данные по всем проектам
- **Фильтрация по статусу**: Проекты отображаются с соответствующими статусами

### 2. Фильтрация данных по проектам

Все разделы системы теперь поддерживают фильтрацию по выбранному проекту:

#### Проекты
- Отображение только выбранного проекта или всех проектов
- Фильтрация по статусу (активные, в планировании)
- Информация о выбранном проекте в заголовке

#### Материалы
- Загрузка материалов с учетом выбранного проекта
- Отображение информации о проекте в заголовке
- Фильтрация поставщиков и заказов по проекту

#### Инструменты
- Загрузка инструментов и оборудования по проекту
- Отображение информации о проекте в заголовке
- Статистика по инструментам для выбранного проекта

#### Сотрудники
- Загрузка сотрудников с учетом выбранного проекта
- Отображение информации о проекте в заголовке
- Учет времени работы по проектам

#### Главная страница (Dashboard)
- Отображение статистики по выбранному проекту
- Информация о проекте в заголовке
- Общий обзор при выборе "Все проекты"

### 3. Компонент ProjectSelector

Создан универсальный компонент для отображения информации о выбранном проекте:

```tsx
<ProjectSelector />
```

Компонент автоматически отображает:
- Название выбранного проекта
- Статус проекта с цветовой индикацией
- Информацию о просмотре всех проектов

### 4. Обновленные Store

Все store обновлены для поддержки фильтрации по проектам:

#### ProjectStore
- `currentProjectId`: ID текущего выбранного проекта
- `isAllProjectsView`: Флаг для отображения всех проектов
- `setCurrentProjectId()`: Установка текущего проекта
- `setAllProjectsView()`: Переключение в режим всех проектов

#### MaterialStore
- `fetchMaterials(projectId?)`: Загрузка материалов по проекту
- `fetchSuppliers(projectId?)`: Загрузка поставщиков по проекту
- `fetchOrders(projectId?)`: Загрузка заказов по проекту

#### ToolStore
- `fetchTools(projectId?)`: Загрузка инструментов по проекту
- `fetchEquipment(projectId?)`: Загрузка оборудования по проекту

#### HRStore
- `fetchEmployees(projectId?)`: Загрузка сотрудников по проекту
- `fetchTimeEntries(projectId?)`: Загрузка учета времени по проекту
- `fetchTrainings(projectId?)`: Загрузка обучения по проекту

### 5. Тестовые данные

Добавлены тестовые данные для демонстрации функциональности:

#### Проекты
- Жилой комплекс "Солнечный" (в работе)
- Торговый центр "МегаМолл" (планирование)
- Промышленный комплекс "ТехноПарк" (завершен)
- Мостовой переход через реку (в работе)
- Реконструкция исторического здания (приостановлен)

#### Материалы
- Цемент М400
- Арматура А500С
- Кирпич керамический

#### Инструменты
- Дрель ударная Makita HP2050
- Перфоратор Bosch GBH 2-26
- Бетономешалка 130л

#### Сотрудники
- Иванов И.И. (Прораб)
- Петров П.П. (Каменщик)
- Сидоров С.С. (Плотник)

## Использование

### Выбор проекта
1. Откройте сайдбар
2. В разделе "ВЫБОР ПРОЕКТА" выберите нужный проект
3. Или выберите "Все проекты" для общего обзора

### Просмотр данных по проекту
- Все страницы автоматически отображают данные для выбранного проекта
- В заголовке каждой страницы отображается информация о текущем проекте
- При выборе "Все проекты" показываются данные по всем проектам

### Навигация
- Переход между разделами сохраняет выбранный проект
- Фильтрация работает во всех основных разделах системы

## Техническая реализация

### Структура данных
- Каждый проект имеет уникальный ID
- Все сущности могут быть связаны с проектом через `projectId`
- Поддержка фильтрации на уровне store

### Компоненты
- `ProjectSelector`: Универсальный компонент отображения проекта
- Обновленные страницы с поддержкой фильтрации
- Улучшенный сайдбар с выбором проекта

### Store
- Обновленные интерфейсы с поддержкой `projectId`
- Реализация фильтрации в методах загрузки данных
- Сохранение состояния выбранного проекта

## Развертывание на Netlify

Проект готов к развертыванию на Netlify:

1. Все зависимости установлены
2. Конфигурация Vite настроена
3. Компоненты оптимизированы для продакшена
4. Поддержка PWA включена

### Команды для развертывания:
```bash
npm run build
npm run preview
```

## Дальнейшее развитие

1. **Реальная база данных**: Интеграция с реальной БД
2. **API интеграция**: Подключение к backend API
3. **Расширенная фильтрация**: Дополнительные фильтры по проектам
4. **Экспорт данных**: Экспорт данных по проектам
5. **Уведомления**: Уведомления о событиях в проектах
6. **Отчеты**: Детальные отчеты по проектам