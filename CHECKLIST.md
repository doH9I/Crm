# ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ Construction CRM

## –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 79.174.85.87

### üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

#### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
- [x] `package.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Node.js –ø—Ä–æ–µ–∫—Ç–∞
- [x] `server.js` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ñ–∞–π–ª (1254 —Å—Ç—Ä–æ–∫–∏)
- [x] `.env` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- [x] `README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [x] `DEPLOYMENT.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- [x] `CHECKLIST.md` - –¥–∞–Ω–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

#### ‚úÖ –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- [x] `deploy.sh` (–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π) - –ø–æ–ª–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- [x] `quick-setup.sh` (–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π) - –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã

#### ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- [x] `nginx.conf` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
- [x] `construction-crm.service` - systemd —Å–µ—Ä–≤–∏—Å

#### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [x] `database/schema.sql` - —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (472 —Å—Ç—Ä–æ–∫–∏)

#### ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ (public/)
- [x] `public/index.html` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (332 —Å—Ç—Ä–æ–∫–∏)
- [x] `public/css/` - 4 CSS —Ñ–∞–π–ª–∞ (—Å—Ç–∏–ª–∏, –º–æ–¥—É–ª–∏, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å)
- [x] `public/js/` - 17 JavaScript —Ñ–∞–π–ª–æ–≤ (–≤—Å–µ –º–æ–¥—É–ª–∏)

### üìä JavaScript –º–æ–¥—É–ª–∏ (17 —Ñ–∞–π–ª–æ–≤)

#### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
- [x] `app.js` (21KB) - –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [x] `api.js` (17KB) - API –∫–ª–∏–µ–Ω—Ç
- [x] `auth.js` (14KB) - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- [x] `utils.js` (16KB) - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### ‚úÖ –ë–∏–∑–Ω–µ—Å-–º–æ–¥—É–ª–∏
- [x] `dashboard.js` (24KB) - –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [x] `projects.js` (22KB) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- [x] `clients.js` (28KB) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- [x] `contractors.js` (35KB) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞–º–∏
- [x] `employees.js` (44KB) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- [x] `warehouse.js` (13KB) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–º

#### ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
- [x] `timesheet.js` - —Ç–∞–±–µ–ª—å —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- [x] `estimates.js` - —Å–º–µ—Ç—ã
- [x] `offers.js` - –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- [x] `materials.js` - –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- [x] `documents.js` - –¥–æ–∫—É–º–µ–Ω—Ç—ã
- [x] `reports.js` - –æ—Ç—á–µ—Ç—ã
- [x] `settings.js` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### ‚úÖ –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CORS –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ IP
- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö (0.0.0.0)
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –≤ –ª–æ–≥–∞—Ö –∏ –≤—ã–≤–æ–¥–µ

#### ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥
- [x] –°–æ–∑–¥–∞–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ JavaScript –º–æ–¥—É–ª–∏
- [x] –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –æ—à–∏–±–∫–∏ 404 –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤
- [x] API –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ (/api)

#### ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [x] –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π .env —Ñ–∞–π–ª —Å –ø—Ä–æ–¥–∞–∫—à–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º crm_user
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞

#### ‚úÖ IP –∏ –¥–æ–º–µ–Ω
- –°–µ—Ä–≤–µ—Ä: `79.174.85.87`
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `http://79.174.85.87`
- API: `http://79.174.85.87/api`

#### ‚úÖ –ü–æ—Ä—Ç—ã
- HTTP: 80 (Nginx)
- Node.js: 3000 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- MySQL: 3306 (–ª–æ–∫–∞–ª—å–Ω—ã–π)

#### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [x] –§–∞–π—Ä–≤–æ–ª UFW
- [x] –ë–∞–∑–æ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [x] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–ª—É–∂–µ–±–Ω—ã–º —Ñ–∞–π–ª–∞–º
- [x] –°–∂–∞—Ç–∏–µ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

#### ‚úÖ MySQL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: `construction_crm`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `crm_user`
- –ü–∞—Ä–æ–ª—å: `strong_password_123!@#`
- –ö–æ–¥–∏—Ä–æ–≤–∫–∞: `utf8mb4`

#### ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –õ–æ–≥–∏–Ω: `admin`
- –ü–∞—Ä–æ–ª—å: `admin123`
- –†–æ–ª—å: `admin`

### üöÄ –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

#### 1Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
ssh root@79.174.85.87
cd /root/construction-crm
bash quick-setup.sh
```

#### 2Ô∏è‚É£ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
sudo bash deploy.sh
```

#### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
systemctl status construction-crm
systemctl status nginx
systemctl status mysql
```

#### 4Ô∏è‚É£ –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ
- –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://79.174.85.87`
- –í–æ–π–¥–∏—Ç–µ: admin / admin123
- –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å!

### üìù –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –°–µ—Ä–≤–∏—Å CRM
```bash
sudo systemctl status construction-crm    # –°—Ç–∞—Ç—É—Å
sudo systemctl restart construction-crm   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo journalctl -u construction-crm -f    # –õ–æ–≥–∏
```

#### Nginx
```bash
sudo systemctl status nginx               # –°—Ç–∞—Ç—É—Å
sudo nginx -t                            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo systemctl reload nginx              # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

#### MySQL
```bash
sudo systemctl status mysql              # –°—Ç–∞—Ç—É—Å
mysql -u crm_user -p construction_crm    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
```

### üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
```bash
sudo netstat -tlnp | grep -E ':(80|443|3000|3306)'
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
sudo tail -f /var/log/nginx/error.log
sudo tail -f /var/www/construction-crm/logs/combined.log
sudo journalctl -u construction-crm -f
```

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞
2. –†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞
4. –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
5. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è HTTPS

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∞—è CRM —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ http://79.174.85.87
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ñ–∞–π—Ä–≤–æ–ª
- ‚úÖ –ì–æ—Ç–æ–≤–∞—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
2. –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
3. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é! üöÄ**